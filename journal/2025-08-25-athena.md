# Hack Log 13 - TryHackMe [Athena](https://tryhackme.com/room/4th3n4)

📆:**Date:** 2025-08-25  
🔍**Objective:** Obtain user flag and the root flag.  
🎯**Target**: TryHackme Athena (Lab CTF)  

---  


## 🛠️ Actions Taken  

### 🧰 Port and Service Enumeration  

```bash
root@ip-10-201-39-190:~# nmap -sV 10.201.92.110
Starting Nmap 7.80 ( https://nmap.org ) at 2025-08-25 07:56 BST
Nmap scan report for ip-10-201-92-110.ec2.internal (10.201.92.110)
Host is up (0.000095s latency).
Not shown: 996 closed ports
PORT    STATE SERVICE     VERSION
22/tcp  open  ssh         OpenSSH 8.2p1 Ubuntu 4ubuntu0.5 (Ubuntu Linux; protocol 2.0)
80/tcp  open  http        Apache httpd 2.4.41 ((Ubuntu))
139/tcp open  netbios-ssn Samba smbd 4.6.2
445/tcp open  netbios-ssn Samba smbd 4.6.2
MAC Address: 16:FF:CC:D0:08:B9 (Unknown)
Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 12.19 second
```

| Port    | Service  | Description                    |
|---------|----------|--------------------------------|
| 22 | ssh    | OpenSSH 8.2p1 Ubuntu 4ubuntu0.5 (Ubuntu Linux; protocol 2.0)|                 |
| 80 | http    | Apache httpd 2.4.41               |
| 139 | netbios-ssn | Samba smbd 4.6.2 |
| 445 | netbios-ssn | Samba smbd 4.6.2 |  

→ Samba server is running.


### 📁 Directory Enumeration  

```bash
root@ip-10-201-39-190:~# ffuf -w /usr/share/wordlists/dirb/big.txt -u http://10.201.92.110/FUZZ

        /'___\  /'___\           /'___\       
       /\ \__/ /\ \__/  __  __  /\ \__/       
       \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\      
        \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/      
         \ \_\   \ \_\  \ \____/  \ \_\       
          \/_/    \/_/   \/___/    \/_/       

       v1.3.1
________________________________________________

 :: Method           : GET
 :: URL              : http://10.201.92.110/FUZZ
 :: Wordlist         : FUZZ: /usr/share/wordlists/dirb/big.txt
 :: Follow redirects : false
 :: Calibration      : false
 :: Timeout          : 10
 :: Threads          : 40
 :: Matcher          : Response status: 200,204,301,302,307,401,403,405
________________________________________________

.htaccess               [Status: 403, Size: 278, Words: 20, Lines: 10]
.htpasswd               [Status: 403, Size: 278, Words: 20, Lines: 10]
server-status           [Status: 403, Size: 278, Words: 20, Lines: 10]
:: Progress: [20469/20469] :: Job [1/1] :: 126 req/sec :: Duration: [0:00:05] :: Errors: 0 ::
```

→ Nothing found after enumerating with multiple directories.  

### 🔎 Enumerating Samba shares  

```bash
root@ip-10-201-39-190:~# smbclient -L //10.201.92.110
Password for [WORKGROUP\root]:
Anonymous login successful

	Sharename       Type      Comment
	---------       ----      -------
	public          Disk      
	IPC$            IPC       IPC Service (Samba 4.15.13-Ubuntu)
SMB1 disabled -- no workgroup available
```
→ There is a share named as "public".  
→ Let's mount this share.  
```bash
root@ip-10-201-39-190:~# smbclient //10.201.92.110/public
Password for [WORKGROUP\root]:
Anonymous login successful
Try "help" to get a list of possible commands.
smb: \> ls
  .                                   D        0  Mon Apr 17 01:54:43 2023
  ..                                  D        0  Mon Apr 17 01:54:05 2023
  msg_for_administrator.txt           N      253  Sun Apr 16 19:59:44 2023

		19947120 blocks of size 1024. 9694476 blocks available
```
→ There is a file named "msg_for_administrator.txt". Let's get this file on the attacking machine.  
```bash
root@ip-10-201-39-190:~# cat msg_for_administrator.txt 

Dear Administrator,

I would like to inform you that a new Ping system is being developed and I left the corresponding application in a specific path, which can be accessed through the following address: /myrouterpanel

Yours sincerely,

Athena
Intern
```
→ The note mentions a hidden directory named "/myrouterpanel".  

### Code Injection  

→ Visiting "http://10.201.92.110/myrouterpanel" gives a web page with an input field for IP address to ping that IP address.  
